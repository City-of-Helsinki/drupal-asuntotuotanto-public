!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)e.d(n,r,function(e){return t[e]}.bind(null,r));return n},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="../",e(e.s=12)}({12:function(t,e,a){t.exports=a(13)},13:function(){var t,e;t=jQuery,(e=Drupal).behaviors.applicationFormActions={attach:function(){const a=document.getElementById("application_form_apartments_list"),n=()=>a.getElementsByClassName("application-form__apartments-item").length,r=(t,a,n)=>{const r=document.createElement("p");r.classList.add(...t);const i=document.createElement("span"),o=document.createTextNode(e.t(a));i.classList.add("visually-hidden"),i.appendChild(o);const l=document.createElement("span"),p=document.createTextNode(n);return l.appendChild(p),r.append(i,l),r},i=(t,a,n=!1)=>{const r=document.createElement("button");r.classList.add(...t);const i=document.createElement("span"),o=document.createTextNode(e.t(a));return i.append(o),r.append(i),r.setAttribute("type","button"),n&&(r.disabled=!0),r},o=(t,a)=>{const n=document.createElement("li"),r=document.createElement("span"),i=document.createTextNode(e.t(t));r.appendChild(i);const o=document.createElement("span"),l=document.createTextNode(e.t(a));return o.appendChild(l),n.append(r,o),n},l=()=>{const t=document.createElement("div");t.classList.add("application-form-apartment__apartment-add-actions-wrapper");const a=n()-1,r="apartment_list_select_"+a,i=document.createElement("div");i.classList.add("hds-select-element");const o=document.createElement("label"),l=document.createTextNode(e.t("Apartment"));o.appendChild(l),o.setAttribute("for",r);const p=document.createElement("div");p.classList.add("hds-select-element__select-wrapper");const c=[...document.querySelectorAll('[data-drupal-selector="edit-apartment"] > table select')].filter(t=>t.getAttribute("data-drupal-selector").includes("-id")).map(t=>t.value).filter(t=>"0"!==t),s=(()=>{const t=document.querySelector('[data-drupal-selector="edit-apartment-0-id"]').parentElement.parentElement.parentElement.parentElement.parentElement,e=t.children.length;return t.children[e-1].getElementsByTagName("select")[0]})().cloneNode(!0);return s.classList.add("hds-select-element__select"),s.setAttribute("id",r),s.setAttribute("data-id",a),s.setAttribute("data-drupal-selector","custom_apartment_select"),[...s.options].filter(t=>c.includes(t.value)).forEach(t=>{s.removeChild(t)}),s.addEventListener("change",({target:t})=>{const e=document.querySelector(`[data-drupal-selector="edit-apartment-${a}-id"]`),n=document.getElementsByClassName("application-form-apartment__apartment-add-button")[0],r=t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;r.setAttribute("data-id",a),e.value=t.value,r.classList.remove("application-form__apartments-item--with-select");const i=t.options[t.selectedIndex].text.split(" | "),o={apartment_number:i[0],apartment_structure:i[1],apartment_floor:i[2],apartment_living_area_size:i[3],apartment_sales_price:i[4],apartment_debt_free_sales_price:i[5]};r.innerHTML=m(o,t.value).innerHTML,n.removeAttribute("disabled")}),p.appendChild(s),i.append(o,p),t.appendChild(i),t},p=(t,e=[])=>{const a=document.createElement(t);return a.classList.add(...e),a},c=(t,e)=>{const a=document.querySelector(`[name="apartment[${t}][_weight]"]`),n=document.querySelector(`[name="apartment[${e}][_weight]"]`),r=a.value;a.value=n.value,n.value=r},s=({target:t})=>{"raise"===t.getAttribute("data-list-position-action-button")&&(t=>{const e=t.parentElement.parentElement.parentElement,a=e.previousElementSibling;null!==a&&(a.before(e),c(e.getAttribute("data-id"),a.getAttribute("data-id")))})(t),"lower"===t.getAttribute("data-list-position-action-button")&&(t=>{const e=t.parentElement.parentElement.parentElement,a=e.nextElementSibling;null===a||a.classList.contains("application-form__apartments-item--with-select")||(a.after(e),c(e.getAttribute("data-id"),a.getAttribute("data-id")))})(t)},d=({target:e})=>{const a=t('[data-drupal-selector="edit-apartment-add-more"]');5>=n()&&1<n()&&a.mousedown();const r=e.parentElement;e.parentElement.parentElement.parentElement.parentElement.addEventListener("click",s),r.appendChild(l()),e.remove(),(()=>{const t=document.querySelectorAll('[data-drupal-selector="custom_apartment_select"]');t[t.length-1].focus()})(),5>n()&&u()},m=(t,a,l=!1)=>{const{apartment_number:c,apartment_structure:s,apartment_floor:m,apartment_living_area_size:u,apartment_sales_price:_,apartment_debt_free_sales_price:f}=t,b=p("li",["application-form__apartments-item"]);l&&b.classList.add("application-form__apartments-item--with-select");const E=p("article",["application-form-apartment"]),v=r(["application-form-apartment__list-position","is-desktop"],"List position",""),h=p("div",["application-form-apartment__header"]),g=r(["application-form-apartment__list-position","is-mobile"],"List position",""),y=r(["application-form-apartment__apartment-number"],"Apartment",c),A=r(["application-form-apartment__apartment-structure"],"Apartment structure",s),L=i(["application-form-apartment__apartment-add-button"],"Add an apartment to the list");L.addEventListener("click",d),0<n()&&L.setAttribute("disabled",!0),l?h.append(g,L):h.append(g,y,A);const x=document.createElement("div");x.classList.add("application-form-apartment__list-position-actions");const w=i("","Raise on the list",l&&!0);w.setAttribute("data-list-position-action-button","raise");const S=i("","Lower on the list",l&&!0);S.setAttribute("data-list-position-action-button","lower"),x.append(w,S);const C=p("ul",["application-form-apartment__information"]),T=o("Floor",m),N=o("Living area size",u),j=o("Sales price",_),O=o("Debt free sales price",f);C.append(T,N,j,O);const q=p("div",["application-form-apartment__actions"]),M=i("","Delete"),P=document.createElement("a"),$=document.createTextNode(e.t("Open apartment page"));return P.appendChild($),P.setAttribute("href",`${window.location.origin}/apartment/${a}`),q.append(M,P),l?E.append(v,h,x):E.append(v,h,x,C,q),b.appendChild(E),b},u=()=>{a.append(m({},null,!0))};0===n()&&u()}}}});