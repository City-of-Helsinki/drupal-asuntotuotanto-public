(this["webpackJsonpasuntomyynti-react"]=this["webpackJsonpasuntomyynti-react"]||[]).push([[0],{104:function(e){e.exports=JSON.parse('{"en":{"SEARCH":{"all-apartments":"All apartments","add-search-alert":"Add search alert","apartment":"Apartment","apartment-few-applications":"Few applications","apartment-free":"Available","apartment-lots-of-applications":"Lots of applications","apartment-no-applications":"No applications","apartment-some-applications":"Some applications","apartments":"apartments","apartments-available":"Apartments available","application-period-ended":"Application period ended","application-period-ends":"Application period ends","application-period-starts":"Application period starts","applications":"Applications","apply":"Apply","area":"Area","contact-us":"Contact us","clear-selection":"Clear all","cancel":"Cancel","email":"Email","error":"Error","floor":"Floor","free-apartments":"Free apartments","free-of-debt-price":"Debt-free Price","haso-title":"Search for HASO apartments","hide-info-block":"Hide Info","hitas-title":"Search for Hitas apartments","info":"Info","learn-more":"Learn more","learn-more-apartments":"Learn more","name-of-the-alert":"Name of the alert","next-page":"Next page","move-in-date":"Move-in date","open-apartment-page":"Open apartment page","previous-page":"Previous page","project":"project","projects":"projects","read-more":"Read More","show-all":"Show all","show-as-list":"Show as list","show-on-map":"Show on map","save-search-alert":"Save search alert","search":"Search","search-alert-helper-text":"We will notify you via email when project is available","something-wrong":"Oops, something went wrong.","subscribe-for-upcoming-sales":"Set alert","subscribe-to-newsletter":"Subscribe to Asuntotuotanto newsletter","total":"Total","upcoming":"Upcoming projects","user-application-apartment":"You have an application for this apartment","user-application-project":"You have an application for this project","show-less-options":"Show less filters","show-more-options":"Show more filters","clear-all-filters":"Clear all filters","for-sale":"For sale","pre-marketing":"Pre-marketing","search-alert-error":"Email is required!","search-alert-saved":"Search alert saved!","remove-tag":"Remove filter"},"ES":{"additional_information":"Additional information","apartment_number":"Apartment number","apartment_structure":"Apartment structure","application_url":"Application URL","balcony_description":"Balcony description","bathroom_appliances":"Bathroom appliances","condition":"Condition","debt_free_sales_price":"Debt free sales price","financing_fee":"Financing fee","floor":"Floor","has_apartment_sauna":"Sauna","has_balcony":"Balcony","has_terrace":"Terrace","has_yard":"Yard","kitchen_appliances":"Kitchen appliances","living_area":"Living area","loan_share":"Share of housing company loan","maintenance_fee":"Maintenance fee","other_fees":"Other fees","parking_fee":"Parking fee","parking_fee_explanation":"Parking fee explanation","project_acc_financeofficer":"Accountable finance officer","project_acc_salesperson":"Accountable sales person","project_apartment_count":"Number of apartments","project_application_end_time":"Application end time","project_application_start_time":"Application start time","project_attachment_urls":"Attachments / URL","project_building_type":"Building type","project_city":"City","project_construction_materials":"Construction materials","project_constructor":"Constructor","project_coordinate_lat":"Coordinate latitude","project_coordinate_lon":"Coordinate longitude","project_description":"Project description","project_district":"District","project_energy_class":"Energy class","project_estate_agent":"Estate agent","project_estate_agent_email":"Estate agent email","project_estate_agent_phone":"Estate agent telephone","project_estimated_completion":"Estimated completion","project_estimated_completion_date":"Estimated completion date","project_has_elevator":"Elevator","project_has_sauna":"Sauna","project_heating_options":"Heating options","project_holding_type":"Holding type","project_housing_company":"Housing company","project_housing_manager":"Housing manager","project_image_urls":"Images","project_main_image_url":"Main image","project_manager":"Project manager","project_material_choice_dl":"Material choice deadline","project_new_development_status":"New development status","project_new_housing":"New housing","project_ownership_type":"Ownership type","project_possession_transfer_date":"Transfer of possession","project_postal_code":"Postal code","project_premarketing_end_time":"Pre-marketing end time","project_premarketing_start_time":"Pre-marketing start time","project_publication_end_time":"Publication end time","project_publication_start_time":"Publication start time","project_realty_id":"Realty ID","project_roof_material":"Roof material","project_sanitation":"Sanitation","project_shareholder_meeting_date":"Shareholder meeting date","project_site_area":"Site area","project_site_renter":"Site renter","project_street_address":"Street address","project_virtual_presentation_url":"Virtual presentation","project_zoning_info":"Zoning information","project_zoning_status":"Zoning status","room_count":"Number of rooms","sales_price":"Sales price","services_description":"Services","showing_times":"Showing time","site_owner":"Site owner","storage_description":"Storage description","view_description":"View description","water_fee":"Water fee","water_fee_explanation":"Water fee explanation","PRE_MARKETING":"Pre-marketing","READY":"Free apartments","FOR_SALE":"For sale","UPCOMING":"Upcoming"}},"fi":{"SEARCH":{"add-search-alert":"Lis\xe4\xe4 hakuvahti","all-apartments":"Kaikki asunnot","apartment":"Huoneisto","apartment-few-applications":"V\xe4h\xe4n hakijoita","apartment-free":"Huoneisto vapaana","apartment-lots-of-applications":"Paljon hakijoita","apartment-no-applications":"Ei hakijoita","apartment-some-applications":"Hieman hakijoita","apartments":"huoneistoa","apartments-available":"Huoneistoa vapaana","application-period-ended":"Hakuaika p\xe4\xe4ttyi","application-period-ends":"Hakuaika p\xe4\xe4ttyy","application-period-starts":"Hakuaika alkaa","applications":"Hakijatilanne","apply":"Luo hakemus","area":"Pinta-ala","contact-us":"Ota yhteytt\xe4","clear-selection":"Tyhjenn\xe4 valinnat","cancel":"Peruuta","email":"S\xe4hk\xf6posti","error":"Virhe","floor":"Kerros","free-apartments":"Vapaat asunnot","free-of-debt-price":"Velaton hinta","haso-title":"Etsi HASO-asumisoikeusasuntoja","hide-info-block":"Piilota info","hitas-title":"Etsi Hitas-omistusasuntoja","info":"Tutustu","learn-more":"Tutustu kohteeseen","learn-more-apartments":"Tutustu huoneistoon","name-of-the-alert":"Vahdin nimi","next-page":"Seuraava sivu","move-in-date":"Muuttop\xe4iv\xe4","open-apartment-page":"Avaa huoneistosivu","previous-page":"Edellinen sivu","project":"kohde","projects":"kohdetta","read-more":"Lue lis\xe4\xe4","show-as-list":"N\xe4yt\xe4 listana","show-on-map":"N\xe4yt\xe4 kartalla","save-search-alert":"Tallenna hakuvahti","search":"Hae","search-alert-helper-text":"L\xe4het\xe4mme tiedon s\xe4hk\xf6postiosoitteeseen kun kohde valmistuu","something-wrong":"Uups, jokin meni pieleen.","subscribe-for-upcoming-sales":"Tilaa vahti","subscribe-to-newsletter":"Haluan tilata Asuntotuotannon uutiskirjeen","total":"Yhteens\xe4","upcoming":"Tulevia kohteita","until":"asti","user-application-apartment":"Sinulla on hakemus t\xe4h\xe4n huoneistoon","user-application-project":"Sinulla on hakemus t\xe4h\xe4n kohteeseen","show-all":"N\xe4yt\xe4 kaikki","show-less-options":"V\xe4hemm\xe4n hakuehtoja","show-more-options":"Tarkenna hakuehtoja","clear-all-filters":"Tyhjenn\xe4 hakuehdot","for-sale":"Nyt haettavana","pre-marketing":"Tulossa haettavaksi","search-alert-error":"S\xe4hk\xf6postiosoite on pakollinen tieto!","search-alert-saved":"Hakuvahti on tallennettu!","remove-tag":"Poista filtteri"},"ES":{"additional_information":"Lis\xe4tiedot","apartment_number":"Huoneiston numero","apartment_structure":"Huoneiston kokoonpano","application_url":"Hakemuslinkki","balcony_description":"Parvekkeen lis\xe4tiedot","bathroom_appliances":"Kylpyhuoneen varusteet","condition":"Kunto","debt_free_sales_price":"Velaton kauppahinta","financing_fee":"P\xe4\xe4omavastike","floor":"Kerros","has_apartment_sauna":"Sauna","has_balcony":"Parveke","has_terrace":"Terassi","has_yard":"Piha","kitchen_appliances":"Keitti\xf6n varusteet","living_area":"Asuinpinta-ala","loan_share":"Yhti\xf6lainaosuus","maintenance_fee":"Hoitovastike","other_fees":"Muut kustannukset","parking_fee":"Autopaikka","parking_fee_explanation":"Autopaikan lis\xe4tiedot","project_acc_financeofficer":"Vastuu rakennuttaja-asiamies (talous)","project_acc_salesperson":"Vastuu rakennuttaja-asiamies (myynti)","project_apartment_count":"Huoneistojen lukum\xe4\xe4r\xe4","project_application_end_time":"Hakuajan p\xe4\xe4ttymisaika","project_application_start_time":"Hakuajan aloitusaika","project_attachment_urls":"Linkki materiaalipankkiin","project_building_type":"Rakennuksen tyyppi","project_city":"Postitoimipaikka","project_construction_materials":"Rakennusmateriaalit","project_constructor":"Rakentaja","project_coordinate_lat":"Leveyskoordinaatti","project_coordinate_lon":"Pituuskoordinaatti","project_description":"Kuvaus kohteesta","project_district":"Kaupunginosa","project_energy_class":"Energialuokka","project_estate_agent":"Kiinteist\xf6nv\xe4litt\xe4j\xe4","project_estate_agent_email":"Kiinteist\xf6nv\xe4litt\xe4j\xe4n s\xe4hk\xf6posti","project_estate_agent_phone":"Kiinteist\xf6nv\xe4litt\xe4j\xe4n puhelinnumero","project_estimated_completion":"Arvioitu valmistumisaika (ennakkomarkkinoinnissa)","project_estimated_completion_date":"Arvioitu valmistumisaika (kauppakirjassa)","project_has_elevator":"Hissi","project_has_sauna":"Taloyhti\xf6ss\xe4 on sauna","project_heating_options":"L\xe4mmitysvaihtoehdot","project_holding_type":"Hallintamuoto","project_housing_company":"Taloyhti\xf6","project_housing_manager":"Is\xe4nn\xf6itsij\xe4","project_image_urls":"Kuvat","project_main_image_url":"P\xe4\xe4kuva","project_manager":"Projektip\xe4\xe4llikk\xf6","project_material_choice_dl":"Materiaalivalintojen p\xe4iv\xe4m\xe4\xe4r\xe4","project_new_development_status":"Uudiskohteen tila","project_new_housing":"Uudiskohde","project_ownership_type":"Asunnon omistusmuoto","project_possession_transfer_date":"Hallinnanluovutus (alustava)","project_postal_code":"Postinumero","project_premarketing_end_time":"Ennakkomarkkinoinnin p\xe4\xe4ttymisaika","project_premarketing_start_time":"Ennakkomarkkinoinnin alkamisaika","project_publication_end_time":"Julkaisun p\xe4\xe4ttymisaika","project_publication_start_time":"Julkaisun aloitusaika","project_realty_id":"Kiinteist\xf6tunnus","project_roof_material":"Kattomateriaali","project_sanitation":"Kiinteist\xf6nhoito","project_shareholder_meeting_date":"Osakkeenomistajien kokouksen p\xe4iv\xe4m\xe4\xe4r\xe4","project_site_area":"Tontin koko","project_site_renter":"Maan vuokraaja","project_street_address":"Osoite","project_virtual_presentation_url":"Kohteen virtuaaliesittely","project_zoning_info":"Kaavoitustiedot","project_zoning_status":"Kaavatilanne","room_count":"Huoneita","sales_price":"Kauppahinta","services_description":"Palvelut","showing_times":"Esittelyaika","site_owner":"Tontin omistus","storage_description":"S\xe4ilytystilat","view_description":"N\xe4kym\xe4t","water_fee":"Vesimaksu","water_fee_explanation":"Vesimaksun lis\xe4tiedot","PRE_MARKETING":"Ennakkomarkkinoinnissa","READY":"Vapaat asunnot","FOR_SALE":"Nyt haettavana","UPCOMING":"Tuleva kohde"}}}')},112:function(e,t,a){e.exports={container:"RangeInput_container__3vnvJ"}},113:function(e,t,a){e.exports={priceInput:"PriceInput_priceInput__260fD"}},114:function(e,t,a){e.exports={collapsible:"Collapsible_collapsible__Iwhhu"}},127:function(e,t,a){},13:function(e,t,a){e.exports={apartmentList:"ApartmentTable_apartmentList__2Yk0e",apartmentListTable:"ApartmentTable_apartmentListTable__3Shn3",apartmentListHeaders:"ApartmentTable_apartmentListHeaders__1LqtE",headerCell:"ApartmentTable_headerCell__2ywsm",headerCellSortable:"ApartmentTable_headerCellSortable__3YdhG",headerCellNarrow:"ApartmentTable_headerCellNarrow__32MGL",headerCellSpacer:"ApartmentTable_headerCellSpacer__MvWPX",headerCellApartment:"ApartmentTable_headerCellApartment__3Y4ni",headerCellSpan:"ApartmentTable_headerCellSpan__3QNjI",sortButton:"ApartmentTable_sortButton__2CNVf",sortArrow:"ApartmentTable_sortArrow__1bN8-",activeSort:"ApartmentTable_activeSort__AAZMO",pagination:"ApartmentTable_pagination__1fcax",paginationButton:"ApartmentTable_paginationButton__2RmTC"}},158:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(92),i=a(67),c=a(104);r.a.use(i.e).init({resources:c,lng:"fi",keySeparator:!1,interpolation:{escapeValue:!1}});r.a;var s=a(0),o=a.n(s),l=a(46),u=a.n(l),p=a(72);a(127),a(128),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j,d,m,_,b=a(6),h=a(185),O=a(173),f=a(168),v=a(169),x=a(170),g=a(174),C=a(57),S=function(e,t){var a=e.filter((function(e){return"fi"===e._language})),n=e.filter((function(e){return e._language===t}));return a.map((function(e){return n.find((function(t){return t.uuid===e.uuid}))||e}))},w=function(e,t){if(e)return e[t]},A=function(e,t){if(e)return e[t]},y=function(e,t){return!!e&&t in e.applications},R=function(e,t){if(e)return e.applications[t]},N=function(e){return e?e.toLowerCase().startsWith("http")?e:"//".concat(e):"#"},k=a(17),E=a(11),P=a.n(E),T=a(15),L=function(e){var t=o.a.useState({key:"apartment_number",direction:"ascending",alphaNumeric:!0}),a=Object(b.a)(t,2),n=a[0],r=a[1];return{items:o.a.useMemo((function(){var t=Object(T.a)(e);return null!==n&&(n.alphaNumeric?t.sort((function(e,t){var a=e[n.key].split(" ").join(""),r=t[n.key].split(" ").join("");return"ascending"===n.direction?a.localeCompare(r,"fi",{numeric:!0}):r.localeCompare(a,"fi",{numeric:!0})})):t.sort((function(e,t){var a=e[n.key],r=t[n.key];return a<r?"ascending"===n.direction?-1:1:a>r?"ascending"===n.direction?1:-1:0}))),t}),[e,n]),requestSort:function(e,t){var a="ascending";n&&n.key===e&&"ascending"===n.direction&&(a="descending"),r({key:e,direction:a,alphaNumeric:t})},sortConfig:n}},H=a(166),M=a(167);!function(e){e[e.MultiSelect=0]="MultiSelect",e[e.Input=1]="Input",e[e.Range=2]="Range"}(j||(j={})),function(e){e.ForSale="FOR_SALE",e.PreMarketing="PRE_MARKETING"}(d||(d={})),function(e){e.Free="FREE",e.Low="LOW",e.Medium="MEDIUM",e.High="HIGH"}(m||(m={})),function(e){e.DebtFreeSalesPrice="debt_free_sales_price",e.LivingArea="living_area",e.ProjectBuildingType="project_building_type",e.ProjectDistrict="project_district",e.ProjectNewDevelopmentStatus="project_new_development_status",e.Properties="properties",e.RoomCount="room_count",e.StateOfSale="project_state_of_sale"}(_||(_={}));var F,B=a(44),D=a.n(B),I=function(e){var t=e.status,a=e.dotOnly,r=void 0!==a&&a,i=Object(h.a)().t;switch(t){case m.Free:return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:P()(D.a.statusCircle,D.a.statusCircleFree),"aria-hidden":"true"}),Object(n.jsx)("span",{className:r?"sr-only":"",children:i("SEARCH:apartment-free")})]});case m.Low:return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:P()(D.a.statusCircle,D.a.statusCircleFew),"aria-hidden":"true"}),Object(n.jsx)("span",{className:r?"sr-only":"",children:i("SEARCH:apartment-few-applications")})]});case m.Medium:return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:P()(D.a.statusCircle,D.a.statusCircleSome),"aria-hidden":"true"}),Object(n.jsx)("span",{className:r?"sr-only":"",children:i("SEARCH:apartment-some-applications")})]});case m.High:return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:P()(D.a.statusCircle,D.a.statusCircleLots),"aria-hidden":"true"}),Object(n.jsx)("span",{className:r?"sr-only":"",children:i("SEARCH:apartment-lots-of-applications")})]});default:return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:P()(D.a.statusCircle,D.a.statusCircleNone),"aria-hidden":"true"}),Object(n.jsx)("span",{className:r?"sr-only":"",children:i("SEARCH:apartment-no-applications")})]})}},W=a(20),K=a.n(W),V=function(e){var t=e.apartment,a=e.userApplications,r=e.applicationStatus,i=Object(h.a)().t,c=Object(s.useState)(window.innerWidth),o=Object(b.a)(c,2),l=o[0],u=o[1],p=Object(s.useState)(!1),j=Object(b.a)(p,2),d=j[0],m=j[1],_=l>768,O=l<=768,v=function(){u(window.innerWidth)};Object(s.useEffect)((function(){return window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[]);var x=t.apartment_number,g=t.apartment_state_of_sale,C=t.apartment_structure,S=t.application_url,w=t.floor,A=t.floor_max,y=t.nid,R=t.project_application_start_time,k=t.project_application_end_time,E=t.living_area,T=t.debt_free_sales_price,L=t.url,F="".concat((T/100).toLocaleString("fi-FI")," \u20ac"),B="".concat(E.toLocaleString("fi-FI")," m\xb2"),D="FREE_FOR_RESERVATIONS"===g,W="OPEN_FOR_APPLICATIONS"===g,V=(new Date).getTime()>new Date(R).getTime(),z=(new Date).getTime()>new Date(k).getTime(),U=W&&V&&!z,Y=Object(n.jsxs)(n.Fragment,{children:[O&&Object(n.jsx)("span",{className:"sr-only",children:i("SEARCH:apartment")}),Object(n.jsx)("strong",{children:x}),O&&Object(n.jsx)("span",{className:K.a.apartmentAvailabilityMobile,children:Object(n.jsx)(I,{status:D?"FREE":r,dotOnly:!0})}),Object(n.jsx)("span",{children:C}),O&&(d?Object(n.jsx)(H.a,{style:{marginLeft:"auto"},size:"m","aria-hidden":"true"}):Object(n.jsx)(M.a,{style:{marginLeft:"auto"},size:"m","aria-hidden":"true"}))]}),Z=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:K.a.cell,children:[Object(n.jsx)("span",{className:_?"sr-only":K.a.cellMobileTitle,children:i("SEARCH:floor")}),Object(n.jsxs)("span",{children:[w," ",A&&" / ".concat(A)]})]}),Object(n.jsxs)("div",{className:K.a.cell,children:[Object(n.jsx)("span",{className:_?"sr-only":K.a.cellMobileTitle,children:i("SEARCH:area")}),Object(n.jsx)("span",{children:B})]}),Object(n.jsxs)("div",{className:K.a.cell,children:[Object(n.jsx)("span",{className:_?"sr-only":K.a.cellMobileTitle,children:i("SEARCH:free-of-debt-price")}),Object(n.jsx)("span",{children:F})]}),Object(n.jsxs)("div",{className:K.a.cell,children:[Object(n.jsx)("span",{className:_?"sr-only":K.a.cellMobileTitle,children:i("SEARCH:applications")}),Object(n.jsx)("span",{children:Object(n.jsx)(I,{status:D?"FREE":r})})]})]}),G=Object(n.jsx)("div",{className:K.a.cellButtons,children:a&&a.includes(y)?Object(n.jsxs)("div",{className:K.a.verticalContent,children:[Object(n.jsxs)("div",{className:K.a.applicationSent,children:[Object(n.jsx)(f.g,{style:{marginRight:10},"aria-hidden":"true"}),Object(n.jsx)("span",{children:i("SEARCH:user-application-apartment")})]}),Object(n.jsx)("a",{href:N(L),className:"".concat(K.a.openApartmentDetailsButton," hds-button hds-button--").concat(_?"secondary":"primary"," hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:i("SEARCH:open-apartment-page")})})]}):Object(n.jsxs)("div",{className:K.a.buttons,children:[L&&Object(n.jsx)("a",{href:N(L),className:"".concat(K.a.getToKnowButton," hds-button hds-button--").concat(_?"supplementary":"secondary"," hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:i("SEARCH:info")})}),U&&Object(n.jsx)("a",{href:N(S),className:"".concat(K.a.createApplicationButton," hds-button hds-button--").concat(_?"secondary":"primary"," hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:i("SEARCH:apply")})})]})});return Object(n.jsx)("div",{className:K.a.apartmentTableRow,children:O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:K.a.apartmentCellMobile,onClick:function(){O&&m(!d)},children:Y}),Object(n.jsxs)("div",{className:d?P()(K.a.mobileCells,K.a.open):K.a.mobileCells,children:[Z,G]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:P()(K.a.cell,K.a.apartmentCell),children:Y}),Z,G]})})},z=a(13),U=a.n(z),Y=function(e){var t=e.apartments,a=e.applications,r=e.applicationStatus,i=Object(h.a)().t,c=Object(s.useState)(1),o=Object(b.a)(c,2),l=o[0],u=o[1],p=Object(s.useRef)(null),j=L(t),d=j.items,m=j.requestSort,_=j.sortConfig,O=d.slice(10*l-10,10*l),g=function(e,t){m(e,t),u(1)},C=function(e){if(_)return _.key===e?_.direction:void 0},S=function(e){var t;return P()(U.a.sortButton,(t={},Object(k.a)(t,U.a.activeSort,!!_&&_.key===e),Object(k.a)(t,U.a.ascending,"ascending"===C(e)),Object(k.a)(t,U.a.descending,"descending"===C(e)),t))},w=function(e){if(_)return"descending"===C(e)?Object(n.jsx)(f.j,{"aria-hidden":"true",className:U.a.sortArrow}):Object(n.jsx)(f.h,{"aria-hidden":"true",className:U.a.sortArrow})},y=t.length>10,R=function(e){e!==l&&(p.current&&p.current.scrollIntoView({behavior:"smooth"}),u(e))};return Object(n.jsxs)("div",{className:U.a.apartmentList,ref:p,children:[Object(n.jsxs)("div",{className:U.a.apartmentListTable,children:[Object(n.jsxs)("div",{className:U.a.apartmentListHeaders,children:[Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellSortable,U.a.headerCellApartment),children:Object(n.jsxs)("button",{type:"button",onClick:function(){return g("apartment_number",!0)},className:S("apartment_number"),children:[Object(n.jsx)("span",{children:i("SEARCH:apartment")}),w("apartment_number")]})}),Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellSortable,U.a.headerCellNarrow),children:Object(n.jsxs)("button",{type:"button",onClick:function(){return g("floor",!1)},className:S("floor"),children:[Object(n.jsx)("span",{children:i("SEARCH:floor")}),w("floor")]})}),Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellSortable,U.a.headerCellNarrow),children:Object(n.jsxs)("button",{type:"button",onClick:function(){return g("living_area",!1)},className:S("living_area"),children:[Object(n.jsx)("span",{children:i("SEARCH:area")}),w("living_area")]})}),Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellSortable,U.a.headerCellNarrow),children:Object(n.jsxs)("button",{type:"button",onClick:function(){return g("debt_free_sales_price",!1)},className:S("debt_free_sales_price"),children:[Object(n.jsx)("span",{children:i("SEARCH:free-of-debt-price")}),w("debt_free_sales_price")]})}),Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellNarrow,U.a.headerCellSpan),children:Object(n.jsx)("span",{children:i("SEARCH:applications")})}),Object(n.jsx)("div",{className:P()(U.a.headerCell,U.a.headerCellSpacer)})]}),O.map((function(e){return Object(n.jsx)(V,{apartment:e,userApplications:a,applicationStatus:A(r,e.nid)},e.uuid)}))]}),y&&Object(n.jsx)("div",{className:U.a.pagination,children:function(){var e=Math.ceil(t.length/10),a=[];a.push(Object(n.jsx)("button",{className:U.a.paginationButton,onClick:function(){return R(1!==l?l-1:l)},value:1!==l?l-1:l,"aria-label":i("SEARCH:previous-page"),disabled:1===l,children:Object(n.jsx)(v.a,{"aria-hidden":"true"})},"pagination-btn-prev"));for(var r=function(e){a.push(Object(n.jsx)("button",{className:U.a.paginationButton,onClick:function(){return R(e)},style:e===l?{border:"2px solid #1a1a1a"}:{},value:e,children:e},e))},c=1;c<=e;c++)r(c);return a.push(Object(n.jsx)("button",{className:U.a.paginationButton,onClick:function(){return R(l!==e?l+1:l)},value:l!==e?l+1:l,"aria-label":i("SEARCH:next-page"),disabled:l===e,children:Object(n.jsx)(x.a,{"aria-hidden":"true"})},"pagination-btn-next")),a}()})]})},Z=a(87),G=a.n(Z),J=function(e,t){Object(s.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))},Q=function(e){var t=e.isVisible,a=void 0!==t&&t,r=e.setVisible,i=e.children,c=Object(s.useRef)(null);return J(c,(function(){r&&r(!1)})),a?u.a.createPortal(Object(n.jsx)("div",{className:G.a.overlay,children:Object(n.jsx)("div",{className:G.a.container,ref:c,children:i})}),document.body):null},q=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],i=Object(s.useCallback)((function(){r(!0)}),[]),c=Object(s.useCallback)((function(){r(!1)}),[]);return{isOpen:a,openModal:i,closeModal:c,Modal:function(e){var t=e.children;return Object(n.jsx)(Q,{isVisible:a,setVisible:r,children:t})}}},X=a(22),$=a.n(X),ee=a(35),te=a(183),ae=a(184),ne=a(172),re=a(62),ie=a.n(re),ce=a(61),se=a.n(ce),oe=a(23),le=function(){var e=Object(s.useState)(new URLSearchParams),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(oe.e)().search;return Object(s.useEffect)((function(){n(new URLSearchParams(r))}),[r]),a};!function(e){e[e.InProgress=0]="InProgress",e[e.Error=1]="Error",e[e.Ready=2]="Ready"}(F||(F={}));var ue=function(e){var t=e.onClose,a=e.project,r=Object(s.useState)(""),i=Object(b.a)(r,2),c=i[0],o=i[1],l=Object(s.useState)(!1),u=Object(b.a)(l,2),p=u[0],j=u[1],d=Object(s.useState)(F.InProgress),m=Object(b.a)(d,2),_=m[0],f=m[1],v=Object(h.a)().t,x=le(),g=Object(s.useRef)(null),C=function(){var e=Object(ee.a)($.a.mark((function e(){var n,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=x.get("lang")||"fi",e.next=4,se.a.post("/".concat(n,"/mailinglist"),{user_email:c,project_id:a.id,subscribe_mailinglist:p});case 4:f(F.Ready),"function"===typeof t&&setTimeout((function(){t()}),1e3),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),f(F.Error),null===(r=g.current)||void 0===r||r.select();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;null===(e=g.current)||void 0===e||e.select()}),[]);var S=a.housing_company,w=a.district,A=a.street_address;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:ie.a.header,children:v("SEARCH:save-search-alert")}),_===F.Error&&Object(n.jsx)(te.a,{type:"error",label:v("SEARCH:search-alert-error")}),_===F.Ready&&Object(n.jsx)(te.a,{type:"success",label:v("SEARCH:search-alert-saved")}),Object(n.jsx)("div",{className:ie.a.fieldWrapper,children:Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:S})," ",w,", ",A]})}),Object(n.jsx)("div",{className:ie.a.fieldWrapper,children:Object(n.jsx)(ae.a,{id:"email",label:v("SEARCH:email"),value:c,ref:g,disabled:_===F.Ready,onChange:function(e){o(e.target.value),f(F.InProgress)},helperText:v("SEARCH:search-alert-helper-text")})}),Object(n.jsx)("div",{className:ie.a.fieldWrapper,children:Object(n.jsx)(ne.a,{id:"subscribe-newsletter",checked:p,onClick:function(){return j(!p)},label:v("SEARCH:subscribe-to-newsletter")})}),Object(n.jsxs)("div",{className:ie.a.buttonWrapper,children:[Object(n.jsx)(O.a,{onClick:function(){"function"===typeof t&&t()},variant:"secondary",children:v("SEARCH:cancel")}),Object(n.jsx)(O.a,{onClick:C,disabled:_!==F.InProgress,children:v("SEARCH:save-search-alert")})]})]})},pe=a(182),je=a(32),de=a.n(je),me=function(e){var t=e.project,a=e.userHasApplications,r=e.dense,i=void 0!==r&&r,c=Object(h.a)().t,s=t.estimated_completion,o=t.estimated_completion_date,l=t.application_end_time,u=t.application_start_time,p=t.possession_transfer_date;return Object(n.jsxs)("div",{className:de.a.deadlines,children:[o&&Object(n.jsxs)("div",{className:i?P()(de.a.completionTime,de.a.dense):de.a.completionTime,children:[Object(n.jsx)(f.b,{style:{marginRight:10},"aria-hidden":"true"}),Object(n.jsxs)("span",{children:[s," ",Object(pe.a)(new Date(o),"MM/yyyy")]})]}),u&&l&&Object(n.jsxs)("div",{className:i?P()(de.a.applicationTime,de.a.dense):de.a.applicationTime,children:[Object(n.jsx)(f.a,{style:{marginRight:10},"aria-hidden":"true"}),Object(n.jsx)("span",{children:function(){var e=(new Date).getTime()>new Date(u).getTime(),t=(new Date).getTime()>new Date(l).getTime();return e?t?"".concat(c("SEARCH:application-period-ended")," ").concat(Object(pe.a)(new Date(l),"dd.MM.yyyy, hh:mm")):"".concat(c("SEARCH:application-period-ends")," ").concat(Object(pe.a)(new Date(l),"dd.MM.yyyy, hh:mm")):"".concat(c("SEARCH:application-period-starts")," ").concat(Object(pe.a)(new Date(u),"dd.MM.yyyy, hh:mm"))}()})]}),a&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:i?P()(de.a.applicationSent,de.a.dense):de.a.applicationSent,children:[Object(n.jsx)(f.g,{style:{marginRight:10},"aria-hidden":"true"}),Object(n.jsx)("span",{children:c("SEARCH:user-application-project")})]})}),p&&Object(n.jsxs)("div",{className:i?P()(de.a.moveInTime,de.a.dense):de.a.moveInTime,children:[Object(n.jsx)(f.a,{style:{marginRight:10},"aria-hidden":"true"}),Object(n.jsxs)("span",{children:[c("SEARCH:move-in-date")," ",Object(pe.a)(new Date(p),"dd.MM.yyyy")]})]})]})},_e=a(69),be=a.n(_e),he=function(e){var t=e.type,a=e.children;return Object(n.jsx)("span",{className:function(){var e;return P()(be.a.label,(e={},Object(k.a)(e,be.a.hitas,"hitas"===(null===t||void 0===t?void 0:t.toLowerCase())),Object(k.a)(e,be.a.puolihitas,"puolihitas"===(null===t||void 0===t?void 0:t.toLowerCase())),Object(k.a)(e,be.a.haso,"haso"===(null===t||void 0===t?void 0:t.toLowerCase())),e))}(),children:a})},Oe=a(39),fe=a.n(Oe),ve=(a(156),function(e){var t=e.config,a=e.project,r=e.hideImgOnSmallScreen,i=void 0!==r&&r,c=e.showSearchAlert,o=void 0!==c&&c,l=e.currentLang,u=e.hideApartments,p=void 0!==u&&u,j=Object(h.a)().t,d=Object(s.useState)(!1),m=Object(b.a)(d,2),_=m[0],A=m[1],k=q(),E=k.openModal,P=k.closeModal,T=k.Modal,L=Object(s.useState)(window.innerWidth),H=Object(b.a)(L,2),M=H[0],F=H[1],B=function(){F(window.innerWidth)};Object(s.useEffect)((function(){return window.addEventListener("resize",B),function(){window.removeEventListener("resize",B)}}),[]);var D=t||{},I=D.apartment_application_status,W=D.user,K=a.apartments,V=a.street_address,z=a.district,U=a.housing_company,Z=a.image_urls,G=a.main_image_url,J=a.id,Q=a.ownership_type,X=a.url,$=S(K,l),ee=!!$.length,te=M<993;return Object(n.jsxs)("div",{className:fe.a.container,children:[Object(n.jsxs)("div",{className:fe.a.content,children:[Object(n.jsx)("div",{className:fe.a.imageContainer,style:i&&te?{display:"none"}:{},children:function(){var e=0,t=0;if(void 0!==G&&G.length&&(e=1),void 0!==Z&&Z.length&&(t=Z.length),0!==(e+=t))return Object(n.jsxs)(C.c,{naturalSlideWidth:383,naturalSlideHeight:223,totalSlides:e,isIntrinsicHeight:!0,touchEnabled:!0,dragEnabled:!1,children:[Object(n.jsxs)(C.e,{"aria-label":"carousel",children:[G.length>=1&&Object(n.jsx)(C.d,{index:0,children:Object(n.jsx)("img",{src:N(G),alt:"".concat(U,", ").concat(j("SEARCH:project-main-image"))})}),t>0&&Z.map((function(e,t){return Object(n.jsx)(C.d,{index:t+1,children:Object(n.jsx)("img",{src:N(e),alt:"".concat(U,", ").concat(j("SEARCH:project-image")," ").concat(t+1)})},t)}))]}),e>1&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:fe.a.carouselPrevBtn,children:Object(n.jsx)(C.a,{children:Object(n.jsx)(v.a,{"aria-hidden":"true"})})}),Object(n.jsx)("div",{className:fe.a.carouselNextBtn,children:Object(n.jsx)(C.b,{children:Object(n.jsx)(x.a,{"aria-hidden":"true"})})})]})]})}()}),Object(n.jsxs)("div",{className:fe.a.info,children:[Object(n.jsxs)("div",{className:fe.a.details,children:[Object(n.jsxs)("div",{className:fe.a.titles,children:[Object(n.jsx)("h3",{style:{marginBottom:5},children:U}),Object(n.jsxs)("div",{style:{marginBottom:8},children:[Object(n.jsxs)("b",{children:[z,","]})," ",V]}),Object(n.jsx)(he,{type:Q,children:Q})]}),Object(n.jsx)(me,{project:a,userHasApplications:y(W,J)})]}),Object(n.jsxs)("div",{className:fe.a.controls,children:[X&&Object(n.jsx)("a",{href:N(X),className:"".concat(fe.a.detailsButton," hds-button hds-button--secondary hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:j("SEARCH:learn-more")})}),o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{children:Object(n.jsx)(ue,{onClose:P,project:a})}),Object(n.jsx)(O.a,{className:fe.a.detailsButton,onClick:E,variant:"secondary",size:"small",children:j("SEARCH:subscribe-for-upcoming-sales")})]}),!p&&ee&&Object(n.jsxs)(O.a,{className:fe.a.apartmentListButton,onClick:function(){A(!_)},variant:"supplementary",iconRight:_?Object(n.jsx)(g.a,{"aria-hidden":"true"}):Object(n.jsx)(f.k,{"aria-hidden":"true"}),children:[$.length," ",j("SEARCH:apartments-available")]})]})]})]}),!p&&ee&&_&&Object(n.jsx)(Y,{apartments:$,applications:R(W,J),applicationStatus:w(I,J)})]})}),xe=function(e,t){if(!e.length)return 0;var a=e.map((function(e){return e.apartments}));if(!a.length)return 0;var n=a.reduce((function(e,t){return e.concat(t)}));return S(n,t).length},ge=a(63),Ce=a.n(ge),Se=function(e){var t=e.config,a=e.searchResults,r=e.header,i=e.openMap,c=e.showSearchAlert,s=void 0!==c&&c,o=e.currentLang,l=e.resultCountByProjects,u=void 0!==l&&l,p=e.hideApartments,j=void 0!==p&&p,d=Object(h.a)().t;return Object(n.jsxs)("div",{className:Ce.a.container,children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{className:Ce.a.titleContainer,children:[Object(n.jsx)("h2",{children:r}),Object(n.jsxs)("div",{className:Ce.a.resultsCount,children:[d("SEARCH:total")," ",u?"".concat(a.length," ").concat(d("SEARCH:projects")):"".concat(xe(a,o)," ").concat(d("SEARCH:apartments"))]})]}),i&&Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{className:Ce.a.showButton,variant:"secondary",onClick:i,children:Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(f.e,{style:{marginRight:20}})," ",d("SEARCH:show-on-map")]})})})]}),Object(n.jsx)("div",{className:Ce.a.resultWrapper,children:a.map((function(e){return Object(n.jsx)(ve,{config:t,project:e,showSearchAlert:s,currentLang:o,hideApartments:j},e.id)}))})]})},we=a(7),Ae=a(26),ye=a(9),Re=a.n(ye),Ne=a(176),ke=a(110),Ee=a(112),Pe=a.n(Ee),Te=function(e,t,a){var n=e.get(t);return n?n.split(","):a},Le=function(){var e=le(),t=Object(oe.d)(),a=Object(s.useCallback)((function(t){return Te(e,t,[])}),[e]),n=function(a,n){e.set(a,n),t.push("?".concat(e.toString()))};return{hasFilters:function(t){return Object.keys(t).some((function(t){return!!e.get(t)}))},clearAllFilters:function(a){Object.keys(a).forEach((function(t){e.delete(t)})),t.push("?".concat(e.toString()))},getAllFilters:function(){return Array.from(e.entries()).filter((function(e){var t=Object(b.a)(e,2);t[0];return""!==t[1]}))},getFilter:function(t){return e.get(t)||""},getFilters:a,addFilter:function(t,a){var r=Te(e,t,[]);r.push(a),n(t,r.join(","))},setFilter:n,setFilters:function(e,t){n(e,t.join(","))},removeFilter:function(a,r){var i=Te(e,a,[]).filter((function(e){return e!==r}));if(0===i.length)return e.delete(a),void t.push("?".concat(e.toString()));n(a,i.join(","))},clearFilter:function(a){e.delete(a),t.push("?".concat(e.toString()))}}},He=function(e){var t=e.name,a=e.from,r=e.to,i=Le(),c=i.getFilters,s=i.setFilters,o=c(t),l=Object(b.a)(o,2),u=l[0],p=void 0===u?"":u,j=l[1],d=void 0===j?"":j,m=[p,d],_=function(e){return function(a){var n=a.target.value||"",r=m.map((function(t,a){return a===e?n:t}));s(t,r)}};return Object(n.jsxs)("div",{className:Pe.a.container,children:[Object(n.jsx)(ae.a,Object(we.a)(Object(we.a)({},a),{},{id:a.label,value:p,onChange:_(0)})),Object(n.jsx)(ae.a,Object(we.a)(Object(we.a)({},r),{},{id:r.label,value:d,onChange:_(1)}))]})},Me=a(83),Fe=a.n(Me),Be=a(175),De=function(e){var t=e.name,a=e.items,r=e.label,i=e.isWrapped,c=Le(),s=c.addFilter,o=c.removeFilter,l=c.getFilters,u=Object(h.a)().t,p=l(t),j=function(e){return function(){p.includes(e)?o(t,e):s(t,e)}};return Object(n.jsx)("div",{className:"".concat(Fe.a.container," ").concat(i?Fe.a.isWrapped:""),children:Object(n.jsx)(Be.a,{label:!i&&r?r:"",children:a.map((function(e,t){return Object(n.jsx)(ne.a,{className:Fe.a.item,id:"".concat(r,"-").concat(e,"-").concat(t),onChange:j(e),label:u("ES:".concat(e)),checked:p.includes(e)},"".concat(e,"-").concat(t))}))})})},Ie=a(113),We=a.n(Ie),Ke=function(e){var t=e.name,a=e.label,r=(e.isWrapped,Le()),i=r.getFilter,c=r.setFilter,s=i(t)||"";return Object(n.jsx)(ae.a,{id:"".concat(t,"-").concat(a),label:a,value:s,onChange:function(e){c(t,e.target.value||"")},className:We.a.priceInput})},Ve=function(e){var t=e.name,a=e.onFilter,r=e.isWrapped,i=void 0!==r&&r,c=e.items,o=e.type,l=e.label,u=Object(Ae.a)(e,["name","onFilter","isWrapped","items","type","label"]),p=le(),d=Object(s.useCallback)((function(){a&&a(Object(we.a)({label:l,type:o,items:c},u))}),[c,l,a,o,u]);switch(Object(s.useEffect)((function(){d()}),[p,d]),o){case j.MultiSelect:return Object(n.jsx)(De,{name:t,label:l,isWrapped:i,items:c});case j.Range:var m=Object(b.a)(c,2),_=m[0],h=m[1];return Object(n.jsx)(He,{name:t,from:_,to:h});case j.Input:return Object(n.jsx)(Ke,{name:t,label:l,isWrapped:i,items:c});default:return null}},ze=a(47),Ue=a.n(ze),Ye=function(e){var t=e.name,a=Object(Ae.a)(e,["name"]);switch(t){case"location":return Object(n.jsx)(f.d,Object(we.a)({},a));case"home":return Object(n.jsx)(f.c,Object(we.a)({},a));default:return null}},Ze=function(e){var t=e.name,a=e.icon,r=Object(Ae.a)(e,["name","icon"]),i=Object(h.a)().t,c=Object(s.useState)(!1),o=Object(b.a)(c,2),l=o[0],u=o[1],p=Object(s.useState)(t),j=Object(b.a)(p,2),d=j[0],m=j[1],_=Object(s.useRef)(null),O=Object(s.useRef)(null),f=Le(),v=f.clearFilter,x=f.getFilters,g=!!(0,f.getFilter)(t);J(_,(function(){u(!1)}));var C="".concat(Ue.a.container," ").concat(l?Ue.a.active:""," ").concat(!l&&g?Ue.a.underline:"");return Object(n.jsxs)("div",{className:C,ref:_,children:[Object(n.jsxs)("button",{className:Ue.a.label,"aria-expanded":l,onClick:function(){return u(!l)},ref:O,children:[a&&Object(n.jsx)(Ye,{name:a,className:Ue.a.icon,"aria-hidden":"true"}),Object(n.jsx)("div",{className:Ue.a.title,children:d})]}),Object(n.jsx)("div",{className:Ue.a.content,children:Object(n.jsx)(Ve,Object(we.a)({name:t,onFilter:function(e){var a=e.label,n=e.getLabel,r=x(t);m(r.length>0?n(r):a)},isWrapped:!0},r))}),Object(n.jsx)("div",{className:Ue.a.footer,children:Object(n.jsx)("button",{onClick:function(){var e;null===(e=O.current)||void 0===e||e.focus(),v(t),setTimeout((function(){u(!1)}),50)},disabled:!g,className:Ue.a.clearButton,children:i("SEARCH:clear-selection")})})]})},Ge=a(114),Je=a.n(Ge),Qe=function(e){var t=e.expand,a=e.children,r=e.onCollapse,i=Object(Ae.a)(e,["expand","children","onCollapse"]),c=Object(s.useState)(0),o=Object(b.a)(c,2),l=o[0],u=o[1],p=Object(s.useRef)(null),j=Object(s.useRef)(null),d=Object(s.useCallback)((function(){if(t){var e=(p.current||{}).clientHeight;u(e||0)}else u(0)}),[t]),m=Object(s.useCallback)((function(){j.current&&clearTimeout(j.current),j.current=setTimeout((function(){d()}),250)}),[d]),_=Object(s.useCallback)((function(){0===l&&"function"===typeof r&&r()}),[l,r]);return Object(s.useEffect)((function(){return window.addEventListener("resize",m),window.addEventListener("transitionend",_),function(){window.removeEventListener("resize",m),window.removeEventListener("transitionend",_)}}),[m,_]),Object(s.useEffect)((function(){d()}),[t,a,d]),Object(n.jsx)("div",Object(we.a)(Object(we.a)({},i),{},{children:Object(n.jsx)("div",{className:Je.a.collapsible,style:{height:l},children:Object(n.jsx)("div",{ref:p,children:a})})}))},qe=a(70),Xe=a.n(qe),$e=function(e){var t=e.filters,a=Le(),r=a.clearFilter,i=a.removeFilter,c=a.getAllFilters,s=Object(h.a)().t,o=c().reduce((function(e,a){var n=Object(b.a)(a,2),r=n[0],i=n[1],c=(t[r]||{}).getTagLabel;return c?[].concat(Object(T.a)(e),Object(T.a)(c(i))):e}),[]),l=function(e,a){return function(){return t[e].type===j.MultiSelect?i(e,a):r(e)}};return Object(n.jsx)("div",{className:Xe.a.container,children:o.map((function(e,t){var a=Object(b.a)(e,3),r=a[0],i=a[1],c=a[2];return Object(n.jsxs)("button",{className:Xe.a.tag,onClick:l(r,i),"aria-label":"".concat(s("SEARCH:remove-tag")," ").concat(s("ES:".concat(c||i))),children:[Object(n.jsx)(ke.a,{className:Xe.a.icon}),Object(n.jsx)("span",{className:Xe.a.label,children:s("ES:".concat(c||i))})]},t)}))})},et=function(e){var t=e.config,a=e.isLoading,r=e.isError,i=e.pageTitle,c=e.onSubmit,o=Le(),l=o.clearAllFilters,u=o.hasFilters,p=Object(s.useState)(!1),j=Object(b.a)(p,2),d=j[0],m=j[1],v=Object(s.useState)(!1),x=Object(b.a)(v,2),g=x[0],C=x[1],S=Object(h.a)().t,w=(t||{}).filters,A=w||{},y=A.project_district,R=A.room_count,N=A.living_area,k=A.debt_free_sales_price,E=Object(Ae.a)(A,["project_district","room_count","living_area","debt_free_sales_price"]),T=function(){return Object(n.jsx)(O.a,{className:Re.a.submitButton,onClick:function(){return c()},iconLeft:Object(n.jsx)(Ne.a,{"aria-hidden":"true"}),children:S("SEARCH:search")})};return!a&&r?null:Object(n.jsx)("div",{className:"".concat(Re.a.container," ").concat(d?Re.a.expand:""," ").concat(a?Re.a.isLoading:""),children:Object(n.jsxs)("div",{className:Re.a.form,children:[Object(n.jsx)("h1",{children:i}),Object(n.jsxs)("div",{className:P()(Re.a.row,Re.a.hasBottomPadding),children:[Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.columnWide,Re.a.dropdownColumn,Re.a.canShimmer),children:Object(n.jsx)("div",{className:Re.a.dropdownWrapper,children:y&&Object(n.jsx)(Ze,Object(we.a)({name:_.ProjectDistrict},y))})}),Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.columnWide,Re.a.dropdownColumn,Re.a.canShimmer),children:Object(n.jsx)("div",{className:Re.a.dropdownWrapper,children:R&&Object(n.jsx)(Ze,Object(we.a)({name:_.RoomCount},R))})}),Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.columnNarrow,Re.a.dropdownColumn,Re.a.canShimmer),children:Object(n.jsx)("div",{className:Re.a.dropdownWrapper,children:N&&Object(n.jsx)(Ze,Object(we.a)({name:_.LivingArea},N))})}),Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.columnNarrow,Re.a.dropdownColumn,Re.a.canShimmer),children:Object(n.jsx)("div",{className:Re.a.dropdownWrapper,children:k&&Object(n.jsx)(Ze,Object(we.a)({name:_.DebtFreeSalesPrice},k))})}),Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.columnNarrow,Re.a.canShimmer,Re.a.searchButtonDesktop),children:!a&&T()})]}),Object(n.jsxs)(Qe,{expand:d,onCollapse:function(){C(!1)},children:[Object(n.jsx)("div",{className:Re.a.row,children:Object(n.jsx)("div",{className:Re.a.divider})}),Object(n.jsx)("div",{className:P()(Re.a.row,Re.a.hasTopPadding,Re.a.hasBottomPadding),children:g&&Object.keys(E).map((function(e,t){return Object(n.jsx)("div",{className:Re.a.column,children:E[e]&&Object(n.jsx)(Ve,Object(we.a)({name:e},E[e]))},t)}))})]}),Object(n.jsx)("div",{className:Re.a.row,children:Object(n.jsx)("div",{className:Re.a.column,children:w&&Object(n.jsx)($e,{filters:w})})}),Object(n.jsx)("div",{className:Re.a.searchButtonMobile,children:!a&&T()}),Object(n.jsx)("div",{className:Re.a.row,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Re.a.divider})})}),Object(n.jsxs)("div",{className:P()(Re.a.row,Re.a.hasTopPadding),children:[Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.textCenterMobile),children:Object(n.jsx)("button",{className:Re.a.showMoreButton,onClick:function(){d?m(!1):(m(!0),C(!0))},children:d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.f,{"aria-hidden":"true"}),Object(n.jsx)("span",{children:S("SEARCH:show-less-options")})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.i,{"aria-hidden":"true"}),Object(n.jsx)("span",{children:S("SEARCH:show-more-options")})]})})}),w&&u(w)&&Object(n.jsx)("div",{className:P()(Re.a.column,Re.a.textCenterMobile),children:Object(n.jsxs)("button",{onClick:function(){return l(w)},className:Re.a.clearFilters,children:[Object(n.jsx)(ke.a,{"aria-hidden":"true"}),Object(n.jsx)("span",{children:S("SEARCH:clear-all-filters")})]})})]})]})})},tt=a(42),at=a.n(tt),nt=function(e){var t=e.config,a=Object(s.useState)(window.innerWidth),r=Object(b.a)(a,2),i=r[0],c=r[1],l=o.a.useState(sessionStorage.getItem("infoBlockHidden")||"false"),u=Object(b.a)(l,2),p=u[0],j=u[1],d=Object(s.useState)(!1),m=Object(b.a)(d,2),_=m[0],O=m[1],f=Object(s.useRef)(null),v=Object(h.a)().t,g=i<=768,C=(t||{}).static_content,S=C||{},w=S.hitas_instruction_text,A=S.hitas_instruction_text_mobile,y=S.hitas_instruction_icon_text,R=S.hitas_instruction_url,N=function(){c(window.innerWidth)};Object(s.useEffect)((function(){return window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[]),Object(s.useEffect)((function(){window.onscroll=function(){f.current&&(window.pageYOffset>f.current.offsetTop+f.current.offsetHeight?O(!0):O(!1))}}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("infoBlockHidden",p)}),[p]);var k=function(){return Object(n.jsx)("svg",{className:at.a.blockIcon,viewBox:"0 0 24 24",xmlns:"//www.w3.org/2000/svg","aria-hidden":"true",children:Object(n.jsx)("path",{fill:"currentColor",d:"M16,2 L16,6 L22,6 L22,21 L16,21 C14,21 12.6666667,21.6666667 12,23 C11.3333333, 21.6666667 10,21 8,21 L2,21 L2,6 L8.07071017,6.0006281 C8.44631048,3.46044118 10.2844113,2.08264672 12.7715358, 2.00360409 L13,2 L16,2 Z M11.0004944,16.2672785 C10.4024204,16.6130175 10,17.2595136 10,18 C10, 18.4740843 10.1642263,18.9202352 10.4605988,19.2769327 C10.4829576,19.3038424 10.5036662,19.3315776 10.5227361, 19.3600153 C10.6861188,19.4111314 10.8459852,19.4689212 11.0014579,19.5324153 Z M20,8 L16,8 L16,16 L13, 16 L13.0001847,19.5317448 C13.7959601,19.2070249 14.7067868,19.0316882 15.7132352,19.0039203 L16,19 L20, 19 L20,8 Z M8,8 L4,8 L4,19 L8,19 L8.12700938,19.0028632 C8.04342457,18.6792423 8,18.3427848 8,18 L8,18 L8, 8 Z M14,8 L10,8 L9.99987956,14.5351985 C10.5341956,14.2260885 11.1466497,14.0370268 11.8003597,14.0048953 L12, 14 L14,14 L14,8 Z M14,4 L13,4 C11.4519646,4 10.4223909,4.62797088 10.1044641,6.00033085 L14,6 L14,4 Z"})})},E=function(){return Object(n.jsxs)("a",{href:R,children:[Object(n.jsx)("span",{children:v("SEARCH:read-more")})," ",Object(n.jsx)(x.a,{"aria-hidden":"true"})]})};return C?g?Object(n.jsx)("div",{className:at.a.container,children:Object(n.jsx)("div",{className:at.a.wrapper,children:Object(n.jsx)("div",{className:at.a.content,children:Object(n.jsxs)(n.Fragment,{children:[k(),Object(n.jsxs)("div",{className:at.a.message,children:[A," ",E()]})]})})})}):null!==p&&JSON.parse(p)?null:Object(n.jsxs)(n.Fragment,{children:[_&&Object(n.jsx)("a",{href:R,className:at.a.minifiedContainer,children:Object(n.jsxs)(n.Fragment,{children:[k(),Object(n.jsx)("div",{children:y})]})}),Object(n.jsx)("div",{className:at.a.container,ref:f,children:Object(n.jsxs)("div",{className:at.a.wrapper,children:[Object(n.jsx)("div",{className:at.a.content,children:Object(n.jsxs)(n.Fragment,{children:[k(),Object(n.jsxs)("div",{className:at.a.message,children:[w," ",E()]})]})}),Object(n.jsx)("button",{className:at.a.closeIcon,onClick:function(){j("true")},"aria-label":v("SEARCH:hide-info-block"),children:Object(n.jsx)(ke.a,{"aria-hidden":"true"})})]})})]}):null},rt=a(80),it=function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return a&&n?"".concat(a,"-").concat(n," m\xb2"):a&&!n?"> ".concat(a," m\xb2"):!a&&n?"< ".concat(n," m\xb2"):""},ct=a(115),st={project_district:function(e){return Object(we.a)(Object(we.a)({},e),{},{type:j.MultiSelect,icon:"location",getLabel:function(e){var t=Object(b.a)(e,1)[0];return t?t+(e.length>1?" +".concat(e.length-1):""):""}})},room_count:function(e){var t=e.suffix,a=void 0===t?"":t,n=e.items,r=Object(Ae.a)(e,["suffix","items"]);return Object(we.a)(Object(we.a)({},r),{},{items:n.map((function(e){return"".concat(e).concat(a)})),type:j.MultiSelect,icon:"home",getQuery:function(e){var t=[{terms:Object(k.a)({},_.RoomCount,e.map((function(e){return parseInt(e)})))}];return e.includes("5+")&&t.push({range:Object(k.a)({},_.RoomCount,{gte:4})}),t},getLabel:function(e){return function(e,t){return e.reduce((function(e,a){var n=Object(ct.a)(a),r=n[0],i=n.slice(1).pop(),c="".concat(r).concat(i?"-"+i:"");return[].concat(Object(T.a)(e),[t?c+t(r,i):c])}),[]).join(", ")}(e.map((function(e){return parseInt(e)})).sort().reduce((function(e,t){var a=e.pop()||[];return 0===a.length||a[a.length-1]===t-1?[].concat(Object(T.a)(e),[[].concat(Object(T.a)(a),[t])]):[].concat(Object(T.a)(e),[a,[t]])}),[]),(function(e,t){return 5===t?"".concat(a,", 5+").concat(a):a||""}))}})},living_area:function(e){var t=Object(b.a)(e.items,2),a=t[0],n=t[1],r=e.suffix,i=Object(Ae.a)(e,["items","suffix"]);return Object(we.a)(Object(we.a)({},i),{},{type:j.Range,items:[{label:a||"",placeholder:r||""},{label:n||"",placeholder:r||""}],getQuery:function(e){var t=e.map((function(e){return parseInt(e)})),a=Object(b.a)(t,2),n=a[0],r=a[1];return[{range:Object(k.a)({},_.LivingArea,Object(we.a)(Object(we.a)({},n?{gte:n}:{}),r?{lte:r}:{}))}]},getLabel:function(e){return it(e)},getTagLabel:function(e){var t=it(e.split(","));return[[_.LivingArea,t]]}})},debt_free_sales_price:function(e){var t=Object(b.a)(e.items,1)[0],a=e.suffix,n=Object(Ae.a)(e,["items","suffix"]);return Object(we.a)(Object(we.a)({},n),{},{type:j.Input,items:[{label:t,placeholder:a||""}],getQuery:function(e){var t=Object(b.a)(e,1)[0];return[{range:Object(k.a)({},_.DebtFreeSalesPrice,{lte:1e5*parseInt(t)})}]},getLabel:function(e){var t=Object(b.a)(e,1)[0];return"max. ".concat(t," 000 ").concat(a)},getTagLabel:function(e){return[[_.DebtFreeSalesPrice,e,"max. ".concat(e," 000 ").concat(a)]]}})},project_building_type:function(e){return Object(we.a)(Object(we.a)({},e),{},{type:j.MultiSelect})},properties:function(e){return Object(we.a)(Object(we.a)({},e),{},{type:j.MultiSelect,getQuery:function(e){return e.map((function(e){return{term:Object(k.a)({},e,!0)}}))}})},project_new_development_status:function(e){return Object(we.a)(Object(we.a)({},e),{},{type:j.MultiSelect})},project_state_of_sale:function(e){return Object(we.a)(Object(we.a)({},e),{},{type:j.MultiSelect})}},ot=function(e){return Object.keys(st).reduce((function(t,a){var n,r=Object(we.a)(Object(we.a)(Object(we.a)({},t[a]),{label:n=a,suffix:null,items:[],getQuery:function(e){return[{terms:Object(k.a)({},"".concat(n,".keyword"),e)}]},getLabel:function(e){return e.join(", ")},getTagLabel:function(e){return e.split(",").filter((function(e){return""!==e})).map((function(e){return[n,e]}))}}),e[a]||{});return Object(we.a)(Object(we.a)({},t),{},Object(k.a)({},a,Object(we.a)({},st[a](r))))}),{})},lt=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INIT_PATH||"initialize",ut=function(e){var t=function(){var t=Object(ee.a)($.a.mark((function t(){var a,n;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.a.get("/".concat(e,"/").concat(lt));case 2:return a=t.sent,(n=a.data).filters=ot(n.filters),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(rt.a)(["dataConfig",e],t,{staleTime:86400,initialStale:!0})},pt=o.a.createContext(void 0),jt=function(e){var t=e.children,a=le().get("lang")||"fi",r=ut(a);return Object(n.jsx)(pt.Provider,{value:r,children:t})},dt=function(){var e=Object(s.useState)({}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=(Object(s.useContext)(pt)||{}).data,i=Le().getFilters,c=Object(s.useCallback)((function(){if(!r)return{};var e=r.filters;if(!e)return{};var t=Object.keys(e).reduce((function(t,a){var n=i(a),r=(e[a]||{}).getQuery;return 0!==n.length&&r?[].concat(Object(T.a)(t),Object(T.a)(r(n))):t}),[]);return 0===t.length?{}:{query:{bool:{must:t}}}}),[r,i]),o=Object(s.useCallback)((function(){var e=c();n(e)}),[c]);return Object(s.useEffect)((function(){o()}),[r]),{query:a,updateQuery:o}},mt=function(e){var t=e.inner_hits.project_id.hits.hits,a=t[0]._source,n={};return Object.keys(a).forEach((function(e){if(e.includes("project_")){var t=e.split("project_")[1];n[t]=a[e]}})),n.apartments=t.map((function(e){return e._source})),n},_t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ELASTIC_BASE_URL||"http://dev.asuntomyynti-elastic.druidfi.wod.by/_search",bt=function(e){var t=function(){var t=Object(ee.a)($.a.mark((function t(){var a,n,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.a.post(_t,Object(we.a)(Object(we.a)({},e),{},{collapse:{field:"project_id",inner_hits:{size:666,name:"project_id"}}}));case 2:return n=t.sent,r=n.data,t.abrupt("return",(null===r||void 0===r||null===(a=r.hits)||void 0===a?void 0:a.hits.map(mt))||[]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(rt.a)(["searchResults",e],t,{initialStale:!0,initialData:[]})},ht=function(){var e=Object(h.a)().t;return Object(n.jsx)(te.a,{label:e("error"),position:"top-right",autoClose:!0,type:"alert",children:e("SEARCH:something-wrong")})},Ot=a(116),ft=a.n(Ot),vt=a(178),xt=a(179),gt=a(186),Ct=a(180),St=a(181),wt=a(177),At=a(30),yt=a.n(At),Rt=a(24),Nt=a.n(Rt),kt=function(e){var t=e.apartment,a=e.userApplications,r=e.applicationStatus,i=e.isMobileSize,c=Object(h.a)().t,o=Object(s.useState)(!1),l=Object(b.a)(o,2),u=l[0],p=l[1],j=!i,d=t.apartment_number,m=t.apartment_state_of_sale,_=t.apartment_structure,O=t.application_url,v=t.floor,x=t.floor_max,g=t.nid,C=t.project_application_start_time,S=t.project_application_end_time,w=t.living_area,A=t.debt_free_sales_price,y=t.url,R="".concat((A/100).toLocaleString("fi-FI")," \u20ac"),k="".concat(w.toLocaleString("fi-FI")," m\xb2"),E="FREE_FOR_RESERVATIONS"===m,P="OPEN_FOR_APPLICATIONS"===m,T=(new Date).getTime()>new Date(C).getTime(),L=(new Date).getTime()>new Date(S).getTime(),F=P&&T&&!L,B=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("strong",{style:{marginRight:15},children:d}),Object(n.jsx)("span",{children:_})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"sr-only",children:c("SEARCH:floor")}),Object(n.jsxs)("span",{children:[v," ",x&&" / ".concat(x)]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"sr-only",children:c("SEARCH:area")}),Object(n.jsx)("span",{children:k})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"sr-only",children:c("SEARCH:free-of-debt-price")}),Object(n.jsx)("span",{children:R})]})]}),D=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"sr-only",children:c("SEARCH:apartment")}),Object(n.jsx)("strong",{children:d}),Object(n.jsx)("span",{className:Nt.a.apartmentAvailabilityMobile,children:Object(n.jsx)(I,{status:E?"FREE":r,dotOnly:!0})}),Object(n.jsx)("span",{children:_}),u?Object(n.jsx)(H.a,{style:{marginLeft:"auto"},size:"m","aria-hidden":"true"}):Object(n.jsx)(M.a,{style:{marginLeft:"auto"},size:"m","aria-hidden":"true"})]}),W=Object(n.jsxs)("div",{className:Nt.a.mobileCells,children:[Object(n.jsxs)("div",{className:Nt.a.mobileCell,children:[Object(n.jsx)("span",{className:Nt.a.cellMobileTitle,children:c("SEARCH:floor")}),Object(n.jsxs)("span",{children:[v," ",x&&" / ".concat(x)]})]}),Object(n.jsxs)("div",{className:Nt.a.mobileCell,children:[Object(n.jsx)("span",{className:Nt.a.cellMobileTitle,children:c("SEARCH:area")}),Object(n.jsx)("span",{children:k})]}),Object(n.jsxs)("div",{className:Nt.a.mobileCell,children:[Object(n.jsx)("span",{className:Nt.a.cellMobileTitle,children:c("SEARCH:free-of-debt-price")}),Object(n.jsx)("span",{children:R})]}),Object(n.jsxs)("div",{className:Nt.a.mobileCell,children:[Object(n.jsx)("span",{className:Nt.a.cellMobileTitle,children:c("SEARCH:applications")}),Object(n.jsx)("span",{children:Object(n.jsx)(I,{status:E?"FREE":r})})]})]}),K=Object(n.jsx)("div",{className:Nt.a.apartmentActions,children:a&&a.includes(g)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:Nt.a.applicationSent,children:[Object(n.jsx)(f.g,{style:{marginRight:8},"aria-hidden":"true"}),Object(n.jsx)("span",{children:c("SEARCH:user-application-apartment")})]}),Object(n.jsx)("a",{href:N(y),className:"".concat(Nt.a.openApartmentDetailsButton," hds-button hds-button--").concat(j?"secondary":"primary"," hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:c("SEARCH:open-apartment-page")})})]}):Object(n.jsxs)(n.Fragment,{children:[y&&Object(n.jsx)("a",{href:N(y),className:"".concat(Nt.a.getToKnowButton," hds-button hds-button--").concat(j?"supplementary":"secondary"," hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:c("SEARCH:learn-more-apartments")})}),F&&Object(n.jsx)("a",{href:N(O),className:"".concat(Nt.a.createApplicationButton," hds-button hds-button--primary hds-button--small"),children:Object(n.jsx)("span",{className:"hds-button__label",children:c("SEARCH:apply")})})]})});return Object(n.jsx)("div",{className:Nt.a.apartmentRow,children:Object(n.jsx)("div",{className:Nt.a.apartmentRowContent,children:i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:Nt.a.apartmentDetailsMobile,onClick:function(){i&&p(!u)},children:D}),u&&Object(n.jsxs)(n.Fragment,{children:[W,K]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:Nt.a.apartmentDetails,children:B}),Object(n.jsx)("div",{className:Nt.a.apartmentAvailability,children:Object(n.jsx)(I,{status:E?"FREE":r,dotOnly:!1})}),K]})})})},Et=a(54),Pt=a.n(Et),Tt=function(e){var t=e.config,a=e.project,r=e.currentLang,i=Object(h.a)().t,c=Object(s.useState)(0),o=Object(b.a)(c,2),l=o[0],u=o[1],p=Object(s.useState)(window.innerWidth),j=Object(b.a)(p,2),d=j[0],m=j[1],_=Object(s.useRef)(null),O=d<769,f=function(){m(window.innerWidth),_.current&&u(_.current.clientHeight)};Object(s.useEffect)((function(){return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[]),Object(s.useEffect)((function(){_.current&&u(_.current.clientHeight)}),[a]);var v=t||{},x=v.apartment_application_status,g=v.user,C=a.apartments,k=a.street_address,E=a.district,P=a.housing_company,T=a.main_image_url,H=a.id,M=a.ownership_type,F=a.url,B=L(C).items,D=S(B,r),I=!!D.length,W=w(x,H),K=R(g,H),V=function(){return Object(n.jsxs)("div",{className:Pt.a.mapProjectDetailsContent,children:[T&&Object(n.jsx)("div",{className:Pt.a.mapProjectDetailImage,children:Object(n.jsx)("img",{src:N(T),alt:"".concat(P,", ").concat(i("SEARCH:project-main-image"))})}),Object(n.jsxs)("div",{className:Pt.a.mapProjectDetailText,children:[Object(n.jsx)("h3",{children:P}),Object(n.jsxs)("p",{children:[Object(n.jsxs)("b",{children:[E,","]})," ",k]}),Object(n.jsx)("div",{className:Pt.a.labelWrap,children:Object(n.jsx)(he,{type:M,children:M})})]})]})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:Pt.a.mapProjectDetailWrap,ref:_,children:[Object(n.jsx)("div",{className:Pt.a.mapProjectDetails,children:F?Object(n.jsx)("a",{href:N(F),children:V()}):V()}),Object(n.jsx)(me,{project:a,userHasApplications:y(g,H),dense:!0})]}),I&&Object(n.jsx)("div",{className:Pt.a.mapApartments,style:{top:l},children:D.map((function(e){return Object(n.jsx)(kt,{apartment:e,userApplications:K,applicationStatus:A(W,e.nid),isMobileSize:O},e.uuid)}))})]})},Lt=a(55),Ht=a.n(Lt),Mt=function(e){var t=e.project,a=e.currentLang,r=e.hideApartments,i=void 0!==r&&r,c=e.onCloseBtnClick,s=e.onApartmentsBtnClick,o=Object(h.a)().t,l=t.apartments,u=t.housing_company,p=t.main_image_url,j=t.ownership_type,d=t.url,m=t.state_of_sale,_=S(l,a),b=!!_.length;return Object(n.jsxs)(n.Fragment,{children:[p&&Object(n.jsx)("div",{className:Ht.a.mapProjectDetailImage,children:Object(n.jsx)("img",{src:N(p),alt:"".concat(u,", ").concat(o("SEARCH:project-main-image"))})}),Object(n.jsx)("button",{className:Ht.a.closeIcon,onClick:function(){return c()},"aria-label":o("SEARCH:hide-project"),children:Object(n.jsx)(ke.a,{"aria-hidden":"true"})}),Object(n.jsx)("div",{className:Ht.a.labelWrap,children:Object(n.jsx)(he,{type:j,children:j})}),Object(n.jsxs)("div",{className:Ht.a.projectDetails,children:[o("ES:".concat(m)),Object(n.jsx)("h3",{children:u})]}),Object(n.jsxs)("div",{className:Ht.a.buttons,children:[d&&Object(n.jsx)("a",{href:N(d),className:"".concat(Ht.a.getToKnowButton," hds-button hds-button--secondary hds-button--small"),children:o("SEARCH:learn-more")}),!i&&b&&Object(n.jsxs)(O.a,{className:Ht.a.apartmentListButton,onClick:function(){return s()},variant:"supplementary",iconRight:Object(n.jsx)(f.k,{"aria-hidden":"true"}),children:[Object(n.jsx)("span",{className:"sr-only",children:o("SEARCH:show-all")})," ",_.length," ",o("SEARCH:apartments")]})]})]})},Ft=a(45),Bt=a.n(Ft),Dt=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MAP_TILES_URL||"https://tiles.hel.ninja/styles/hel-osm-bright/{z}/{x}/{y}.png",It=function(e){var t=e.config,a=e.header,r=e.searchResults,i=e.closeMap,c=e.currentLang,o=e.resultCountByProjects,l=void 0!==o&&o,u=e.hideApartments,p=void 0!==u&&u,j=Object(h.a)().t,m=Object(s.useState)(void 0),_=Object(b.a)(m,2),v=_[0],x=_[1],g=Object(s.useRef)([]);g.current=r.map((function(e,t){var a;return null!==(a=g.current[t])&&void 0!==a?a:Object(s.createRef)()}));var C=function(e){e.current&&e.current.remove()},S=function(){x(void 0)},w=function(e){var t=function(e){switch(e){case d.PreMarketing:return"#000000";case d.ForSale:default:return"#0000bf"}}(e.state_of_sale),a=e.uuid===(null===v||void 0===v?void 0:v.uuid),r=Object(n.jsx)("div",{style:{marginLeft:-14,marginTop:-14,width:40,height:40,backgroundColor:a?t:"white",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(f.d,{size:"m",color:a?"white":t})});return yt.a.divIcon({className:"custom-icon",html:ft.a.renderToString(r)})};return Object(n.jsxs)("div",{className:Bt.a.container,children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{className:Bt.a.titleContainer,children:[Object(n.jsx)("h2",{children:a}),Object(n.jsxs)("div",{className:Bt.a.resultsCount,children:[j("SEARCH:total")," ",l?"".concat(r.length," ").concat(j("SEARCH:projects")):"".concat(xe(r,c)," ").concat(j("SEARCH:apartments"))]})]}),Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{className:Bt.a.showButton,variant:"secondary",onClick:i,children:Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(wt.a,{style:{marginRight:20}})," ",j("SEARCH:show-as-list")]})})})]}),Object(n.jsx)("div",{className:Bt.a.mapContainer,children:Object(n.jsxs)("div",{className:Bt.a.mapWrapper,id:"asuReactMap",children:[Object(n.jsxs)(vt.a,{center:function(){if(r.length>0){var e=r[0].coordinate_lon,t=r[0].coordinate_lon,a=r[0].coordinate_lat,n=r[0].coordinate_lat;return r.forEach((function(r){var i=r.coordinate_lon,c=r.coordinate_lat;e<i&&(e=i),(!t||t>i)&&(t=i),(!a||a<c)&&(a=c),(!a||a<c)&&(n=c)})),[(a-n)/2+n,(e-t)/2+t]}return[60.17,24.94]}(),zoom:12,maxBounds:[[59.4,23.8],[61.5,25.8]],dragging:!yt.a.Browser.mobile,tap:!yt.a.Browser.mobile,zoomControl:!1,children:[!yt.a.Browser.mobile&&Object(n.jsx)(xt.a,{position:"bottomright"}),Object(n.jsx)(gt.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:Dt}),r.map((function(e,t){return e.coordinate_lat&&e.coordinate_lon?Object(n.jsx)(Ct.a,{icon:w(e),position:[e.coordinate_lat,e.coordinate_lon],children:Object(n.jsx)(St.a,{ref:g.current[t],closeButton:!1,className:Bt.a.popup,onOpen:function(){return S()},children:Object(n.jsx)(Mt,{project:e,currentLang:c,onCloseBtnClick:function(){return C(g.current[t])},onApartmentsBtnClick:function(){return a=e,n=g.current[t],C(n),void x(a);var a,n},hideApartments:p})})},e.uuid):null}))]}),!p&&v&&Object(n.jsxs)("div",{className:Bt.a.activeProjectWrapper,children:[Object(n.jsx)("button",{className:Bt.a.closeIcon,onClick:function(){return S()},"aria-label":j("SEARCH:hide-project"),children:Object(n.jsx)(ke.a,{"aria-hidden":"true"})}),Object(n.jsx)("div",{className:Bt.a.activeProjectDetails,children:Object(n.jsx)(Tt,{config:t,project:v,currentLang:c})})]})]})})]})},Wt=function(e){return e.reduce((function(e,t){var a=t.state_of_sale;return Object(we.a)(Object(we.a)({},e),{},Object(k.a)({},a,[].concat(Object(T.a)(e[a]||[]),[t])))}),{})},Kt=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOW_UPCOMING_ONLY||"false",Vt=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_OWNERSHIP_TYPE||"hitas",zt=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],i=Object(h.a)(),c=i.t,o=i.i18n,l=le().get("lang")||"fi";Object(s.useEffect)((function(){o.changeLanguage(l)}),[l,o]);var u=Object(s.useContext)(pt)||{},p=u.data,j=u.isLoading,d=u.isError,m=dt(),_=m.query,O=m.updateQuery,f=bt(_),v=f.data,x=f.isError,g=Wt(v).UPCOMING,C=void 0===g?[]:g,S=function(e,t){var a=e.filter((function(e){return!!e.ownership_type}));return"haso"===t.toLowerCase()?a.filter((function(e){return"haso"===e.ownership_type.toLowerCase()})):a.filter((function(e){return"haso"!==e.ownership_type.toLowerCase()}))}(v,Vt),w=Wt(S),A=w.READY,y=void 0===A?[]:A,R=w.FOR_SALE,N=void 0===R?[]:R,k=w.PRE_MARKETING,E=void 0===k?[]:k,P=!!y.length,T=function(){r(!0)},L=function(){r(!1)};if("true"===Kt)return Object(n.jsxs)("div",{children:[a?Object(n.jsx)(It,{config:p,header:c("SEARCH:upcoming"),searchResults:C,closeMap:L,currentLang:l,resultCountByProjects:!0,hideApartments:!0}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Se,{config:p,header:c("SEARCH:upcoming"),searchResults:C,openMap:T,showSearchAlert:!0,currentLang:l,resultCountByProjects:!0,hideApartments:!0})}),x&&Object(n.jsx)(ht,{})]});var H=c("SEARCH:hitas-title");return"haso"===Vt.toLowerCase()&&(H=c("SEARCH:haso-title")),Object(n.jsxs)("div",{children:[Object(n.jsx)(et,{config:p,isLoading:j,isError:d,pageTitle:H,onSubmit:O}),p&&!d&&Object(n.jsx)(nt,{config:p}),a?Object(n.jsx)(It,{config:p,header:c("SEARCH:all-apartments"),searchResults:S,closeMap:L,currentLang:l}):Object(n.jsxs)(n.Fragment,{children:[P?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se,{config:p,header:c("SEARCH:free-apartments"),searchResults:y,openMap:T,currentLang:l}),Object(n.jsx)(Se,{config:p,header:c("SEARCH:for-sale"),searchResults:N,currentLang:l})]}):Object(n.jsx)(Se,{config:p,header:c("SEARCH:for-sale"),searchResults:N,openMap:T,currentLang:l}),Object(n.jsx)(Se,{config:p,header:c("SEARCH:pre-marketing"),searchResults:E,currentLang:l})]}),x&&Object(n.jsx)(ht,{})]})};u.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(p.a,{children:Object(n.jsx)(jt,{children:Object(n.jsx)(zt,{})})})}),document.getElementById("asu_react_search")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,a){e.exports={apartmentTableRow:"ApartmentRow_apartmentTableRow__3dcNh",apartmentTableRowButtons:"ApartmentRow_apartmentTableRowButtons__3LT1o",cellTextStyles:"ApartmentRow_cellTextStyles__1_jF3",cell:"ApartmentRow_cell__1_SiZ",apartmentCellMobile:"ApartmentRow_apartmentCellMobile__3dkXK",cellButtons:"ApartmentRow_cellButtons__1aS4e",apartmentCell:"ApartmentRow_apartmentCell__2Tajo",apartmentAvailabilityMobile:"ApartmentRow_apartmentAvailabilityMobile__2PWkk",mobileCells:"ApartmentRow_mobileCells__26uVO",open:"ApartmentRow_open__3EN2J",cellMobileTitle:"ApartmentRow_cellMobileTitle__n3VA2",verticalContent:"ApartmentRow_verticalContent__3Yg-M",buttons:"ApartmentRow_buttons__WiTLH",createApplicationButton:"ApartmentRow_createApplicationButton__eALym",getToKnowButton:"ApartmentRow_getToKnowButton__37ALR",openApartmentDetailsButton:"ApartmentRow_openApartmentDetailsButton__2Ikhg",applicationSent:"ApartmentRow_applicationSent__8zJb6"}},24:function(e,t,a){e.exports={apartmentTextStyles:"MapApartmentRow_apartmentTextStyles__DyCsN",apartmentDetailsMobile:"MapApartmentRow_apartmentDetailsMobile__3f9wL",apartmentDetails:"MapApartmentRow_apartmentDetails__15I6T",mobileCell:"MapApartmentRow_mobileCell__3yrqL",apartmentRow:"MapApartmentRow_apartmentRow__vO19J",apartmentRowContent:"MapApartmentRow_apartmentRowContent__j0Jsh",apartmentAvailabilityMobile:"MapApartmentRow_apartmentAvailabilityMobile__1uMK1",apartmentAvailability:"MapApartmentRow_apartmentAvailability__2Yd6T",apartmentActions:"MapApartmentRow_apartmentActions__2_xy_",applicationSent:"MapApartmentRow_applicationSent__2dbeA",getToKnowButton:"MapApartmentRow_getToKnowButton__21mIz",mobileCells:"MapApartmentRow_mobileCells__1YLdw",cellMobileTitle:"MapApartmentRow_cellMobileTitle__3arg4"}},32:function(e,t,a){e.exports={completionTime:"ProjectInfo_completionTime__26u1z",applicationTime:"ProjectInfo_applicationTime__wg5qn",applicationSent:"ProjectInfo_applicationSent__1zA_V",moveInTime:"ProjectInfo_moveInTime__23zAD",dense:"ProjectInfo_dense__329VH",deadlines:"ProjectInfo_deadlines__RF3iW"}},39:function(e,t,a){e.exports={container:"ProjectCard_container__12un4",content:"ProjectCard_content__Q4tiY",imageContainer:"ProjectCard_imageContainer__Jj6ia",carouselPrevBtn:"ProjectCard_carouselPrevBtn__31vfZ",carouselNextBtn:"ProjectCard_carouselNextBtn__3lSWr",info:"ProjectCard_info__1XuaP",details:"ProjectCard_details__30diJ",controls:"ProjectCard_controls___1st3",detailsButton:"ProjectCard_detailsButton__2DblD",apartmentListButton:"ProjectCard_apartmentListButton__3a_FO"}},42:function(e,t,a){e.exports={container:"InfoBlock_container__YHFVR",blockIcon:"InfoBlock_blockIcon__546ZY",wrapper:"InfoBlock_wrapper__1E7hV",content:"InfoBlock_content__1y0vR",closeIcon:"InfoBlock_closeIcon__2_ZPh",message:"InfoBlock_message__3SF2x",minifiedContainer:"InfoBlock_minifiedContainer__3FS3U"}},44:function(e,t,a){e.exports={statusCircle:"ApplicationStatus_statusCircle__2bdQW",statusCircleFree:"ApplicationStatus_statusCircleFree__2kaoY",statusCircleNone:"ApplicationStatus_statusCircleNone__3YSif",statusCircleFew:"ApplicationStatus_statusCircleFew__3AF6C",statusCircleSome:"ApplicationStatus_statusCircleSome__1mrR9",statusCircleLots:"ApplicationStatus_statusCircleLots__3rKT_"}},45:function(e,t,a){e.exports={container:"MapResults_container__1n2qs",mapContainer:"MapResults_mapContainer__1tlh4",mapWrapper:"MapResults_mapWrapper__1EsJZ",showButton:"MapResults_showButton__3Ze2U",titleContainer:"MapResults_titleContainer__1KQvk",resultsCount:"MapResults_resultsCount__20Ez3",titles:"MapResults_titles__3R0Gs",activeProjectWrapper:"MapResults_activeProjectWrapper__nFxyr",closeIcon:"MapResults_closeIcon__YDhK8",activeProjectDetails:"MapResults_activeProjectDetails__2jQop",popup:"MapResults_popup__sSP65"}},47:function(e,t,a){e.exports={container:"Dropdown_container__1YP-o",active:"Dropdown_active__WNsWE",content:"Dropdown_content__2ZsRE",footer:"Dropdown_footer__2DxkY",option:"Dropdown_option__1hPPz",underline:"Dropdown_underline__37-aK",title:"Dropdown_title__pv-eN",label:"Dropdown_label__lHjyS",icon:"Dropdown_icon__19HNe",clearButton:"Dropdown_clearButton__dXdH5"}},54:function(e,t,a){e.exports={mapProjectDetailWrap:"MapProjectCard_mapProjectDetailWrap__2BUGx",labelWrap:"MapProjectCard_labelWrap__OZBMn",mapProjectDetails:"MapProjectCard_mapProjectDetails__2YHJp",mapProjectDetailsContent:"MapProjectCard_mapProjectDetailsContent__1sfTQ",mapProjectDetailText:"MapProjectCard_mapProjectDetailText__3x5Mp",mapProjectDetailImage:"MapProjectCard_mapProjectDetailImage__1fs8U",mapApartments:"MapProjectCard_mapApartments__3qg79"}},55:function(e,t,a){e.exports={closeIcon:"MapProjectPopupCard_closeIcon__1e4DZ",mapProjectDetailImage:"MapProjectPopupCard_mapProjectDetailImage__2ayBU",labelWrap:"MapProjectPopupCard_labelWrap__2kRcr",projectDetails:"MapProjectPopupCard_projectDetails__1u4id",buttons:"MapProjectPopupCard_buttons__2EkJu",getToKnowButton:"MapProjectPopupCard_getToKnowButton__1oPaK",apartmentListButton:"MapProjectPopupCard_apartmentListButton__1tF7Q"}},62:function(e,t,a){e.exports={header:"SubscriptionForm_header__K4Zyh",buttonWrapper:"SubscriptionForm_buttonWrapper__2h1fD",fieldWrapper:"SubscriptionForm_fieldWrapper__2jPUm"}},63:function(e,t,a){e.exports={container:"SearchResults_container__2cq2V",showButton:"SearchResults_showButton__H3Gvz",titleContainer:"SearchResults_titleContainer__1uvtu",resultsCount:"SearchResults_resultsCount__qhEDC",resultWrapper:"SearchResults_resultWrapper__3vCoD"}},69:function(e,t,a){e.exports={label:"Label_label__2T4js",hitas:"Label_hitas__1tW8y",puolihitas:"Label_puolihitas__3hkaj",haso:"Label_haso__5lD5H"}},70:function(e,t,a){e.exports={container:"TagList_container__1xbKs",tag:"TagList_tag__LTXEA",label:"TagList_label__1waQ0",icon:"TagList_icon__i6AuE"}},83:function(e,t,a){e.exports={container:"CheckList_container__1DBZu",item:"CheckList_item__2mgWM",isWrapped:"CheckList_isWrapped__1EYVC"}},87:function(e,t,a){e.exports={overlay:"Modal_overlay__1VrfB",container:"Modal_container__f6_kU"}},9:function(e,t,a){e.exports={container:"SearchForm_container__3AGoo",form:"SearchForm_form__1eFat",hasTopPadding:"SearchForm_hasTopPadding__P5P9J",hasBottomPadding:"SearchForm_hasBottomPadding__1i-Ol",row:"SearchForm_row__1okry",column:"SearchForm_column__GEKhI",dropdownColumn:"SearchForm_dropdownColumn__2WfLO",columnWide:"SearchForm_columnWide__1aJL2",columnNarrow:"SearchForm_columnNarrow__2RExx",isLoading:"SearchForm_isLoading__1rGXv",canShimmer:"SearchForm_canShimmer__7W_wB",placeHolderShimmer:"SearchForm_placeHolderShimmer__3uS_6",dropdownWrapper:"SearchForm_dropdownWrapper__2SE5p",searchButtonWrapper:"SearchForm_searchButtonWrapper__NWsSx",divider:"SearchForm_divider__3KAW3",submitButton:"SearchForm_submitButton__2Mhz_",header:"SearchForm_header__r29Wv",textCenterMobile:"SearchForm_textCenterMobile__1X5xA",showMoreButton:"SearchForm_showMoreButton__21LGr",clearFilters:"SearchForm_clearFilters__1gGqQ",searchButtonDesktop:"SearchForm_searchButtonDesktop__345xD",searchButtonMobile:"SearchForm_searchButtonMobile__27-i3"}}},[[158,1,2]]]);
//# sourceMappingURL=main.51474879.chunk.js.map